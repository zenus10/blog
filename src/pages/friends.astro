---
import IndexLayout from '@/layouts/IndexLayout.astro'
import Friends from '@/components/widgets/Friends.astro'
import { themeConfig } from '@/config'
import { friendsConfig } from '@/config.friends.ts'
---

<IndexLayout
  title={`${friendsConfig.title} - ${themeConfig.site.title}`}
  description={`${friendsConfig.description} - ${themeConfig.site.description}`}
>
  <div class="friends-page">
    <!-- 返回按钮 -->
    <div class="back-nav">
      <a href="/" class="back-link">
        <svg
          width="16"
          height="16"
          viewBox="0 0 16 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M2.5 6.5H9.5C11.1569 6.5 12.5 7.84315 12.5 9.5V9.5C12.5 11.1569 11.1569 12.5 9.5 12.5H7.5M2.5 6.5L5.5 9.5M2.5 6.5L5.5 3.5"
            stroke="currentColor"
            stroke-width="1.25"
            stroke-linecap="round"
            stroke-linejoin="round"></path>
        </svg>
        返回首页
      </a>
    </div>

    <div class="page-header">
      <h1 class="page-title">{friendsConfig.title}</h1>
      <p class="page-description">{friendsConfig.description}</p>
      <div class="stats">
        <span class="stat-item">共 {friendsConfig.friends.length} 个友链</span>
      </div>
    </div>

    <div class="friends-content">
      <Friends showAll={true} showCategories={true} />
    </div>
  </div>
</IndexLayout>

<style>
  .friends-page {
    max-width: 100%;
  }

  .back-nav {
    margin-bottom: 2rem;
  }

  .back-link {
    display: inline-flex;
    align-items: center;
    gap: 0.375rem;
    font-size: var(--font-size-m);
    color: var(--text-secondary);
    text-decoration: none;
    transition: color 0.2s ease;
  }

  .back-link:hover {
    color: var(--text-primary);
  }

  .back-link svg {
    width: 0.8rem;
    height: 0.8rem;
    flex-shrink: 0;
  }

  .page-header {
    text-align: center;
    margin: 2rem 0 3rem 0;
    padding: 2rem 0;
    border-bottom: 1px solid var(--border);
  }

  .page-title {
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-bold);
    color: var(--text-primary);
    margin: 0 0 1rem 0;
  }

  .page-description {
    font-size: var(--font-size-l);
    color: var(--text-secondary);
    margin: 0 0 1.5rem 0;
  }

  .stats {
    display: flex;
    justify-content: center;
    gap: 2rem;
  }

  .stat-item {
    font-size: var(--font-size-s);
    color: var(--text-secondary);
    padding: 0.5rem 1rem;
    background: var(--astro-code-background);
    border: 1px solid var(--border);
    border-radius: 16px;
  }

  .friends-content {
    margin: 2rem 0;
  }

  .apply-section {
    margin-top: 4rem;
    padding: 2rem 0;
    border-top: 1px solid var(--border);
  }

  .apply-title {
    font-size: var(--font-size-l);
    font-weight: var(--font-weight-bold);
    color: var(--text-primary);
    margin: 0 0 1.5rem 0;
  }

  .apply-content {
    color: var(--text-primary);
    line-height: var(--line-height-relaxed);
  }

  .apply-content p {
    margin: 1rem 0;
  }

  .apply-content ul {
    margin: 1rem 0;
    padding-left: 2rem;
  }

  .apply-content li {
    margin: 0.5rem 0;
    list-style-type: disc;
  }

  @media (max-width: 768px) {
    .page-header {
      margin: 1rem 0 2rem 0;
      padding: 1.5rem 0;
    }

    .page-title {
      font-size: 1.5rem;
    }

    .stats {
      flex-direction: column;
      align-items: center;
      gap: 1rem;
    }

    .apply-content ul {
      padding-left: 1.5rem;
    }
  }
</style>
