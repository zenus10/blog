@import './fonts.css';
@import './post.css';
:root {
    /* Min Content Width */
    --content-width: 25rem;
    /* 中文优化字体栈 - 按照中国用户设备优先级排序 */
    --sans: "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "WenQuanYi Micro Hei", "Noto Sans CJK SC", "Source Han Sans SC", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    --serif: "Songti SC", "STSong", "Hiragino Mincho ProN", "Noto Serif CJK SC", "Source Han Serif SC", "Times New Roman", serif;
    --mono: "SF Mono", "Consolas", "Liberation Mono", "Menlo", "Courier", monospace;
    /* 中文优化的字体尺寸 - 参考人民日报等权威媒体 */
    --font-size-xs: 0.75rem;
    /* 12px - 标签、辅助信息 */
    --font-size-s: 0.8125rem;
    /* 13px - 次要文字 */
    --font-size-m: 0.9375rem;
    /* 15px - 正文（中文最佳阅读尺寸） */
    --font-size-l: 1.0625rem;
    /* 17px - 标题 */
    --font-size-xl: 1.25rem;
    /* 20px - 大标题 */
    /* 中文优化的字重 */
    --font-weight-light: 300;
    --font-weight-regular: 400;
    --font-weight-medium: 500;
    --font-weight-bold: 600;
    --font-weight-heavy: 700;
    /* 中文优化的字符间距 */
    --letter-spacing-tight: -0.025em;
    --letter-spacing-normal: 0;
    --letter-spacing-wide: 0.025em;
    /* 中文优化的行高 - 遵循中文排版标准 */
    --line-height-tight: 1.5;
    --line-height-normal: 1.7;
    --line-height-relaxed: 1.8;
    --line-height-loose: 2.0;
    /* Light Mode Colors */
    --bg: #ffffff;
    --text-primary: rgba(0, 0, 0, 0.88);
    /* 提高对比度 */
    --text-secondary: rgba(0, 0, 0, 0.45);
    /* 次要文字 */
    --text-tertiary: rgba(0, 0, 0, 0.25);
    /* 辅助信息 */
    --text-quaternary: rgba(0, 0, 0, 0.15);
    /* 分割线等 */
    --border: rgba(0, 0, 0, 0.08);
    --selection: rgba(0, 0, 0, 0.06);
    --code-bg: rgba(0, 0, 0, 0.04);
    --mark: #fff2cc;
    /* 中文高亮色调 */
    /* Syntax Theme */
    --astro-code-foreground: rgba(0, 0, 0, 0.88);
    --astro-code-background: rgba(0, 0, 0, 0.025);
    --astro-code-token-constant: rgba(0, 0, 0, 0.88);
    --astro-code-token-string: rgba(0, 0, 0, 0.88);
    --astro-code-token-comment: rgba(0, 0, 0, 0.4);
    --astro-code-token-keyword: rgba(0, 0, 0, 0.6);
    --astro-code-token-parameter: rgba(0, 0, 0, 0.88);
    --astro-code-token-function: rgba(0, 0, 0, 0.88);
    --astro-code-token-string-expression: rgba(0, 0, 0, 0.6);
    --astro-code-token-punctuation: rgba(0, 0, 0, 0.6);
    --astro-code-token-link: rgba(0, 0, 0, 0.6);
}


/* Light Mode */

html.light {
    --bg: #ffffff;
    --text-primary: rgba(0, 0, 0, 0.88);
    --text-secondary: rgba(0, 0, 0, 0.45);
    --text-tertiary: rgba(0, 0, 0, 0.25);
    --text-quaternary: rgba(0, 0, 0, 0.15);
    --border: rgba(0, 0, 0, 0.08);
    --selection: rgba(0, 0, 0, 0.06);
    --code-bg: rgba(0, 0, 0, 0.04);
    --mark: #fff2cc;
    --astro-code-foreground: rgba(0, 0, 0, 0.88);
    --astro-code-background: rgba(0, 0, 0, 0.025);
    --astro-code-token-constant: rgba(0, 0, 0, 0.88);
    --astro-code-token-string: rgba(0, 0, 0, 0.88);
    --astro-code-token-comment: rgba(0, 0, 0, 0.4);
    --astro-code-token-keyword: rgba(0, 0, 0, 0.55);
    --astro-code-token-parameter: rgba(0, 0, 0, 0.88);
    --astro-code-token-function: rgba(0, 0, 0, 0.88);
    --astro-code-token-string-expression: rgba(0, 0, 0, 0.6);
    --astro-code-token-punctuation: rgba(0, 0, 0, 0.6);
    --astro-code-token-link: rgba(0, 0, 0, 0.6);
}


/* Dark Mode */

html.dark {
    --bg: #1a1a1a;
    --text-primary: rgba(255, 255, 255, 0.92);
    --text-secondary: rgba(255, 255, 255, 0.45);
    --text-tertiary: rgba(255, 255, 255, 0.25);
    --text-quaternary: rgba(255, 255, 255, 0.15);
    --border: rgba(255, 255, 255, 0.08);
    --selection: rgba(255, 255, 255, 0.06);
    --code-bg: rgba(255, 255, 255, 0.04);
    --mark: #4a4737;
    --astro-code-foreground: rgba(255, 255, 255, 0.92);
    --astro-code-background: rgba(255, 255, 255, 0.025);
    --astro-code-token-constant: rgba(255, 255, 255, 0.92);
    --astro-code-token-string: rgba(255, 255, 255, 0.92);
    --astro-code-token-comment: rgba(255, 255, 255, 0.4);
    --astro-code-token-keyword: rgba(255, 255, 255, 0.6);
    --astro-code-token-parameter: rgba(255, 255, 255, 0.92);
    --astro-code-token-function: rgba(255, 255, 255, 0.92);
    --astro-code-token-string-expression: rgba(255, 255, 255, 0.6);
    --astro-code-token-punctuation: rgba(255, 255, 255, 0.6);
    --astro-code-token-link: rgba(255, 255, 255, 0.6);
}

html {
    background-color: var(--bg);
    scroll-behavior: smooth;
    scrollbar-gutter: stable;
    overscroll-behavior-y: contain;
    -webkit-overflow-scrolling: touch;
    /* 中文网页优化 */
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body {
    font-family: var(--sans);
    font-size: var(--font-size-m);
    font-weight: var(--font-weight-regular);
    line-height: var(--line-height-normal);
    letter-spacing: var(--letter-spacing-normal);
    color: var(--text-primary);
    background-color: var(--bg);
    /* 中文排版优化 */
    text-rendering: optimizeLegibility;
    word-wrap: break-word;
    overflow-wrap: break-word;
    word-break: break-word;
    hyphens: none;
    /* 布局设置 */
    margin: 0;
    padding: 6rem 1.5rem 1.5rem 1.5rem;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
    /* 动画和交互 */
    overscroll-behavior-y: contain;
    transition: background-color 0.2s ease-out, color 0.2s ease-out;
    /* 中英文混排优化 */
    text-spacing: ideograph-alpha ideograph-numeric;
    hanging-punctuation: allow-end;
}


/* 移动端适配 */

@media (max-width: 768px) {
    body {
        padding: 4rem 1.25rem 1.25rem 1.25rem;
        font-size: 0.9rem;
        line-height: var(--line-height-relaxed);
    }
}


/* 减少动画偏好 */

@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        transition-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        scroll-behavior: auto !important;
    }
}


/* 选择文本样式 */

::selection {
    background-color: var(--selection);
    text-shadow: none;
}


/* 焦点样式 */

:focus {
    outline: 2px solid var(--text-tertiary);
    outline-offset: 2px;
    border-radius: 2px;
}

:focus:not(:focus-visible) {
    outline: none;
}

:focus-visible {
    outline: 2px solid var(--text-tertiary);
    outline-offset: 2px;
    border-radius: 2px;
}


/* 布局设置 */

body[data-width] {
    max-width: var(--content-width);
}

body[data-centered='true'] {
    margin: 0 auto;
}

main {
    flex: 1;
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
}


/* 日期样式 - 中文数字优化 */

.date {
    margin: 0;
    font-weight: var(--font-weight-regular);
    font-size: var(--font-size-s);
    color: var(--text-secondary);
    opacity: 0.8;
    flex-shrink: 0;
    letter-spacing: var(--letter-spacing-normal);
    /* 数字等宽字体特性 */
    font-variant-numeric: tabular-nums;
    font-feature-settings: 'tnum' 1, 'kern' 1;
}

.date .month {
    letter-spacing: var(--letter-spacing-normal);
}


/* 隐藏元素 */

.sr-only {
    border: 0;
    padding: 0;
    margin: 0;
    position: absolute !important;
    height: 1px;
    width: 1px;
    overflow: hidden;
    clip: rect(1px 1px 1px 1px);
    clip: rect(1px, 1px, 1px, 1px);
    clip-path: inset(50%);
    white-space: nowrap;
}


/* 文章列表优化 */

.post-list-item {
    transition: opacity 0.3s ease, transform 0.2s ease;
}

.post-list-item .post-content {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    flex: 1;
    min-width: 0;
}

.post-list-item .title {
    font-size: var(--font-size-m);
    font-weight: var(--font-weight-medium);
    line-height: var(--line-height-tight);
    letter-spacing: var(--letter-spacing-normal);
    color: var(--text-primary);
}


/* 标签样式优化 */

.post-list-item .tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.375rem;
    margin-top: 0.25rem;
}

.post-list-item .tag,
.tag {
    background: var(--code-bg);
    color: var(--text-secondary);
    border: 0.5px solid var(--border);
    border-radius: 10px;
    padding: 0.2rem 0.5rem;
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-regular);
    line-height: 1.2;
    white-space: nowrap;
    letter-spacing: var(--letter-spacing-normal);
    transition: all 0.2s ease;
}

.tag:hover {
    background: var(--selection);
    color: var(--text-primary);
    border-color: var(--text-tertiary);
    transform: translateY(-1px);
}


/* 确保有标签的文章项有足够高度 */

.post-item:has(.tags) {
    min-height: 4rem;
    align-items: flex-start;
    padding: 0.75rem 0;
}


/* 移动端标签优化 */

@media (max-width: 640px) {
    .post-item:has(.tags) {
        min-height: auto;
        padding: 0.5rem 0;
    }
    .post-list-item .tags {
        gap: 0.25rem;
        margin-top: 0.375rem;
    }
    .post-list-item .tag,
    .tag {
        font-size: 0.6875rem;
        padding: 0.15rem 0.4rem;
        border-radius: 8px;
    }
}